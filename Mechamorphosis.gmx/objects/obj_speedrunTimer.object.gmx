<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_speedrun</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1000</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>counting = false;
enabled = true;
mins = 0;
seconds = 0;
frames = 0;

beInvis = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(room == rm_ending)
{
    beInvis = true;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (room == rm_menu)
{
    counting = false;

    m = global.mins;
    
    if(m &gt;= 50)
    {
        beInvis = true;
    }
    else
    {
        global.gameBeaten = true;
        obj_button_toggleFullDash.alarm[0] = 1;
        beInvis = false;
    }
        
    mstr = string(m);
    if (m &lt; 10)
    {
        mstr = "0"+string(m);
    }
    s = global.seconds;
    sstr = string(s);
    if (s &lt; 10)
    {
        sstr = "0"+string(s);
    }
    f = global.frames;
    frames = f
    fstr = string(f);
    if (f &lt; 10)
    {
        fstr = "0"+string(f);
    }
    //obj_persist.text = ("Best Time: " + mstr + ":"+ sstr+":"+fstr);
    //obj_persist.alarm[0] = 360;
}
if (room == rm_lv1)
{
    counting = true;
    mins = 0;
    seconds = 0;
    frames = 0;
}
if (room == rm_ending)
{
    counting = false;
    var file;
    time = 3600*mins+60*seconds+frames;
    if (time &lt; global.bestTime)
    {
        obj_persist.text = "New best time!";
        obj_persist.alarm[0] = 120;
        alarm[0] = 120;
        
        global.bestTime = time;
        global.mins = mins;
        global.seconds = seconds;
        global.frames = frames;
        scr_saveGame();
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (room == rm_credits)
{
    exit;
}

if (counting)
{
    frames++;
    if (frames &gt;= 60)
    {
        frames = 0;
        seconds++;
    }   
    if (seconds &gt;=60)
    {
        seconds = 0;
        mins++;
    }
}

if(beInvis == true)
{
    exit;
}

ms = round((frames * 1000)/60)
msStr = "";

if(ms &lt; 10)
{
    msStr = "00"+string(ms);
}
else
{
    if(ms &lt; 100) // Less that 100, bigger than 10
    {
        msStr = "0"+string(ms);
    }
    else  //Bigger than 100
    {
        msStr = string(ms);   
    }
}

if (seconds &lt; 10)
{
    secondsStr = ("0"+string(seconds));
}
else
{
    secondsStr = string(seconds);
}

draw_set_font(fnt_1);
draw_set_alpha(1);
draw_set_colour(c_white);
draw_set_halign(fa_right);
draw_set_valign(fa_bottom);
image_alpha = 1;
x = view_xview + view_wview - 1;
y = view_yview + view_hview - 1;

if(room != rm_menu)
{
    if(beInvis == true)
    {
        show_debug_message(string(mins)+":"+secondsStr+":"+msStr);
    }
    else
    {
        draw_text(x, y, string(mins)+":"+secondsStr+":"+msStr);
    }
}
else
{
    //Room is menu
    if(global.mins &gt;= 50)
    {
        //Game not beaten yet
        //draw_text(x, y, "a");
    }
    else
    {
        //Game beaten, show best time on menu
        draw_text(x, y, ("Best Time: " + mstr + ":"+ sstr+":"+msStr));
    }
}
//depth *= 10;
//show_debug_message("x,y: "+string(x)+", "+string(y));
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
